{% extends 'administracion/base.html' %}
{% load static %}
{% block content %}


<script type="text/javascript">
    window.onload = function() {
    {% if info %}
        Lobibox.notify('success', {
                    showClass: 'rollIn',
                    hideClass: 'rollOut',
                    msg: '{{info}}'
                });                        
     {% endif %}
    {% if errores %}
    Lobibox.notify('error', {
                    width: $(window).width(),
                    showClass: 'zoomInUp',
                    hideClass: 'zoomOutDown',
                    delay: 15000,
                    msg: '{{errores}}'
                });
    {% endif %}
};
</script>

        <div class="data-table-area mg-b-15">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="sparkline13-list">
                            <div class="sparkline13-hd">
                                <div class="main-sparkline13-hd">
                            <h1><b>Tabla </b><span class="table-project-n">De Actividades </span></h1>
                        <p><b>Curso: </b>{{curso.Materia}}</p>
                                    <p><b>Grado:</b> {{curso.Grado}}</p>
                                    <p><b>Seccion:</b> {{curso.Seccion}}</p>
                                    <p><b>Unidad:</b> {{unidad}}</p>
                                </div>

<div class="login-form-area edu-pd mg-b-15">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="tab-content-details shadow-reset">
                            <h2>Agregar Una Actividad</h2>
                           <div class="modal-area-button">
                                <a class="Primary mg-b-10" href="#" data-toggle="modal" data-target="#PrimaryModalhdbgcl">Agregar Una Actividad</a>
                            </div> 
                        </div>
                    </div>
                </div>
                
                <div id="PrimaryModalhdbgcl" class="modal modal-edu-general default-popup-PrimaryModal fade" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header header-color-modal bg-color-1">
                                        <h4 class="modal-title">Agregar Una Actividad Nueva Al Curso</h4>
                                        <div class="modal-close-area modal-close-df">
                                            <a class="close" data-dismiss="modal" href="#"><i class="fa fa-close"></i></a>
                                        </div>
                                    </div>
                                    <div class="modal-body">
                                        <i class="educate-icon educate-checked modal-check-pro"></i>
                                        <h2>Agregar Una Actividad!</h2>
                                        <p>Esta a punto de agregar una nueva actividad a la unidad asignada desea continuar?</p>
                                    </div>
                                    <div class="modal-footer">
                                        <a data-dismiss="modal" href="#">Cancelar</a>
                                        <a href="{% url 'nueva_actividad' pk=curso.pk %}">Agregar Actividad</a>
                                    </div>
                                </div>
                            </div>
                        </div>

            </div>
        </div>


                            </div>
                            <div class="sparkline13-graph">
                                <div class="datatable-dashv1-list custom-datatable-overright">
                                    <div id="toolbar">
                                        <select class="form-control dt-tb">
                                            <option value="">Exportar Normal</option>
                                            <option value="all">Exportar Todo</option>
                                            <option value="selected">Exportar Seleccionados</option>
                                        </select>
                                    </div>
                                    <table id="table" data-toggle="table" data-pagination="true" data-search="true" data-show-columns="true" data-show-pagination-switch="true" data-show-refresh="true" data-key-events="true" data-show-toggle="true" data-resizable="true" data-cookie="true"
                                        data-cookie-id-table="saveId" data-show-export="true" data-click-to-select="true" data-toolbar="#toolbar">
                                        <thead>
                                            <tr>
                                                <th data-field="state" data-checkbox="true"></th>
                                                <th data-field="id">No.</th>
                                                <th data-field="pnombre" data-editable="true">Unidad</th>
                                                <th data-field="snombre" data-editable="true">Actividad</th>
                                                <th data-field="papellido" data-editable="true">Descripcion Actividad</th>
                                                <th data-field="phone" data-editable="true">Ponderacion</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            
                                        {% for actividad in actividades %}
                                            <tr>
                                                <td></td>
                                              
                                                <td>{{ forloop.counter }}</td>
                                                

                                                <td>{{ actividad.Unidad }}</td>
                                                <td>{{ actividad.Nombre_Actividad }}</td>
                                                <td>{{ actividad.Descripcion_Actividad }}</td>
                                                <td>{{ actividad.Ponderacion }}</td>
                                                <td>
<a href="#" data-toggle="modal" data-target="#DangerModalalert{{ forloop.counter }}" class="btn btn-custon-rounded-three btn-danger"><i class="fa fa-times edu-danger-error" aria-hidden="true"></i> Eliminar</a>


                                                    </td>
                <div id="DangerModalalert{{ forloop.counter }}" class="modal modal-edu-general FullColor-popup-DangerModal fade" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-close-area modal-close-df">
                                        <a class="close" data-dismiss="modal" href="#"><i class="fa fa-close"></i></a>
                                    </div>
                                    <div class="modal-body">
                                        <span class="educate-icon educate-danger modal-check-pro information-icon-pro"></span>
                                        <h2>Atencion!</h2>
                                        <p>Esta a punto de eliminar la  Actividad:{{actividad.Nombre_Actividad}} Descripcion: {{ actividad.Descripcion_Actividad }},Antes de poder eliminar esta actividad no deben existir notas asignadas a ningun alumno, desea continuar?</p>
                                    </div>
                                    <div class="modal-footer danger-md">
                                        <a data-dismiss="modal" href="#">Cancelar</a>
                                        <a href="{% url 'eliminar_actividad' pk=actividad.pk %}">Eliminar</a>
                                    </div>
                                </div>
                            </div>
                        </div>



                                            </tr>
                                        {% endfor %}

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<!-- data table JS
        ============================================ -->
    <script src="{% static 'administracion/js/data-table/bootstrap-table.js' %}"></script>
    <script src="{% static 'administracion/js/data-table/tableExport.js' %}"></script>
    <script src="{% static 'administracion/js/data-table/data-table-active.js' %}"></script>
    <script src="{% static 'administracion/js/data-table/bootstrap-table-editable.js' %}"></script>
    <script src="{% static 'administracion/js/data-table/bootstrap-editable.js' %}"></script>
    <script src="{% static 'administracion/js/data-table/bootstrap-table-resizable.js' %}"></script>
    <script src="{% static 'administracion/js/data-table/colResizable-1.5.source.js' %}"></script>
    <script src="{% static 'administracion/js/data-table/bootstrap-table-export.js' %}"></script>
 <!-- notification JS
        ============================================ -->
    <script src="{% static 'administracion/js/notifications/Lobibox.js' %}"></script>
    <script src="{% static 'administracion/js/notifications/notification-active.js' %}"></script>
{% endblock %}